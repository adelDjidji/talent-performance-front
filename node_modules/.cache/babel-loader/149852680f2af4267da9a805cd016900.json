{"ast":null,"code":"import _classCallCheck from \"/Users/mac/Documents/PFE/code/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Documents/PFE/code/front/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mac/Documents/PFE/code/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mac/Documents/PFE/code/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/mac/Documents/PFE/code/front/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mac/Documents/PFE/code/front/src/component/formObjectifs.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { Form, Input, message, Icon, Spin, Select, Row, Col, DatePicker, Button, AutoComplete } from 'antd';\nimport { server_url } from \"../config/var\";\nvar FormItem = Form.Item;\nvar Option = Select.Option;\nvar AutoCompleteOption = AutoComplete.Option;\nvar TextArea = Input.TextArea;\nvar formItemLayout = {//   labelCol: {\n  //     xs: { span: 24 },\n  //     sm: { span: 8 },\n  //   },\n  //   wrapperCol: {\n  //     xs: { span: 24 },\n  //     sm: { span: 16 },\n  //   },\n};\nvar tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0\n    },\n    sm: {\n      span: 16,\n      offset: 8\n    }\n  }\n};\nvar antIcon = React.createElement(Icon, {\n  type: \"loading\",\n  style: {\n    fontSize: 24\n  },\n  spin: true,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 40\n  },\n  __self: this\n});\n\nvar RegistrationForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RegistrationForm, _React$Component);\n\n  function RegistrationForm(props) {\n    var _this;\n\n    _classCallCheck(this, RegistrationForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegistrationForm).call(this, props));\n    _this.state = {\n      deja: false,\n      tab_pond: [0, 0, 0, 0],\n      total_pond: 0,\n      validation: false,\n      sending: true,\n      sent: false,\n      done: false,\n      confirmDirty: false,\n      autoCompleteResult: []\n    };\n\n    _this.send = function () {\n      axios({\n        method: 'post',\n        baseURL: server_url + '/objectif/affect/' + _this.user_id,\n        headers: {\n          'Access-Control-Allow-Origin': '*'\n        }\n      }).then(function (response) {\n        console.log(\"WELL DONE affectation\");\n        console.log(response);\n\n        _this.setState({\n          sending: false,\n          sent: true\n        });\n\n        message.success('operation avec succes '); //this.setState({infos:response.data, featching:false})\n      }).catch(function (error) {\n        console.log(\"erroooorrrrr\");\n        console.log(error);\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFieldsAndScroll(function (err, values) {\n        if (!err) {\n          console.log(\" data form : \" + JSON.stringify(values));\n\n          if (_this.state.total_pond != 100) {\n            message.error('la pondération total doit égale à 100%');\n            return;\n          }\n\n          _this.setState({\n            validation: true\n          });\n\n          var obj1 = {\n            title: values.objectif1,\n            ponderation: values.ponderation1,\n            cible: values.cible1,\n            plan_action: values.plan1,\n            echancie: values.echancie1,\n            id_user: _this.user_id\n          };\n          var obj2 = {\n            title: values.objectif2,\n            ponderation: values.ponderation2,\n            cible: values.cible2,\n            plan_action: values.plan2,\n            echancie: values.echancie2,\n            id_user: _this.user_id\n          };\n          var obj3 = {\n            title: values.objectif3,\n            ponderation: values.ponderation3,\n            cible: values.cible3,\n            plan_action: values.plan3,\n            echancie: values.echancie3,\n            id_user: _this.user_id\n          };\n          var obj4 = {\n            title: values.objectif4,\n            ponderation: values.ponderation4,\n            cible: values.cible4,\n            plan_action: values.plan4,\n            echancie: values.echancie4,\n            id_user: _this.user_id\n          };\n          var objs = [obj1, obj2, obj3, obj4];\n          _this.user_objectifs = objs;\n          console.log(\"data ready to send :\" + JSON.stringify(objs));\n          axios({\n            method: 'post',\n            baseURL: server_url + '/objectif/insert',\n            data: objs //headers: {'Access-Control-Allow-Origin': '*' }\n\n          }).then(function (response) {\n            console.log(\"WELL DONE insertion\");\n            console.log(response);\n\n            _this.setState({\n              validation: false,\n              done: true,\n              deja: true\n            });\n\n            message.success('operation avec succes '); //this.setState({infos:response.data, featching:false})\n          }).catch(function (error) {\n            console.log(\"erroooorrrrr\");\n            console.log(error);\n          });\n        }\n      });\n    };\n\n    _this.handleConfirmBlur = function (e) {\n      var value = e.target.value;\n\n      _this.setState({\n        confirmDirty: _this.state.confirmDirty || !!value\n      });\n    };\n\n    _this.set_pond = function (id, pond) {\n      var old = _this.state.tab_pond;\n      old[id - 1] = pond;\n      console.log(\"new tab pond\");\n      console.log(old);\n\n      _this.setState({\n        tab_pond: old\n      });\n\n      _this.set_som_pond();\n    };\n\n    _this.set_som_pond = function () {\n      var som = 0;\n      var p = _this.state.tab_pond;\n\n      for (var i = 0; i < p.length; i++) {\n        som += parseInt(p[i]);\n      }\n\n      _this.setState({\n        total_pond: som\n      });\n\n      console.log(\"somme now :\");\n      console.log(som);\n      if (som > 100) message.warning('Alert: la pondération ne doit pas depasser 100% !');\n    };\n\n    _this.form_row = function (id, table_obj) {\n      var getFieldDecorator = _this.props.form.getFieldDecorator;\n      var obj = table_obj[id - 1];\n      var deja = false;\n      console.log(\"ROW OBJ\", obj);\n      if (table_obj != null) deja = true;\n      return React.createElement(Row, {\n        className: \"table-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, React.createElement(Col, {\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }), getFieldDecorator('objectif' + id, {\n        rules: [{\n          required: true,\n          message: 'entrer un objectif svp'\n        }],\n        initialValue: _this.state.deja ? obj.title : \"\"\n      })(React.createElement(TextArea, {\n        disabled: _this.state.sent,\n        placeholder: \"objectif\",\n        autosize: {\n          minRows: 2,\n          maxRows: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      })))), React.createElement(Col, {\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }), getFieldDecorator('ponderation' + id, {\n        rules: [{\n          required: true,\n          message: 'entrer une ponderation svp'\n        }],\n        initialValue: _this.state.deja ? obj.ponderation : 0\n      })(React.createElement(Select, {\n        disabled: _this.state.sent,\n        defaultValue: \"10\",\n        onChange: function onChange(value) {\n          return _this.set_pond(id, value);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Option, {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, \"5 %\"), React.createElement(Option, {\n        value: \"10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"10 %\"), React.createElement(Option, {\n        value: \"15\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"15 %\"), React.createElement(Option, {\n        value: \"20\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, \"20 %\"), React.createElement(Option, {\n        value: \"25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"25 %\"), React.createElement(Option, {\n        value: \"30\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"30 %\"), React.createElement(Option, {\n        value: \"35\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"35 %\"), React.createElement(Option, {\n        value: \"40\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"40 %\"), React.createElement(Option, {\n        value: \"45\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"45 %\"), React.createElement(Option, {\n        value: \"50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"50 %\"))))), React.createElement(Col, {\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }), getFieldDecorator('plan' + id, {\n        initialValue: _this.state.deja ? obj.plan_action : \"\",\n        rules: [{\n          required: true,\n          message: 'entrer un plan d\\'action svp'\n        }]\n      })(React.createElement(TextArea, {\n        disabled: _this.state.sent,\n        placeholder: \"Plan d'actions\",\n        autosize: {\n          minRows: 2,\n          maxRows: 4\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      })))), React.createElement(Col, {\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), getFieldDecorator('cible' + id, {\n        initialValue: _this.state.deja ? obj.cible : null,\n        rules: [{\n          required: true,\n          message: 'entrer un cible svp'\n        }]\n      })(React.createElement(Input, {\n        disabled: _this.state.sent,\n        placeholder: \"cible\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      })))), React.createElement(Col, {\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, _this.state.deja ? moment(obj.echancie).locale(\"fr\").format('L') : React.createElement(FormItem, Object.assign({}, formItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }), getFieldDecorator('echancie' + id, {\n        rules: [{\n          required: true,\n          message: 'entrer un echéancie svp'\n        }]\n      })(React.createElement(DatePicker, {\n        disabled: _this.state.sent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      })))));\n    };\n\n    _this.user_id = _this.props.user;\n    _this.user_objectifs = _this.props.data;\n    _this.collectif = _this.props.collectif;\n    _this.sent = _this.props.sent;\n    return _this;\n  }\n\n  _createClass(RegistrationForm, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        deja: this.user_objectifs.length > 0 ? true : false,\n        sent: this.sent\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.user_id = null;\n      this.user_objectifs = null;\n      this.collectif = null;\n      this.setState({\n        tab_pond: [0, 0, 0, 0],\n        total_pond: 0\n      });\n    }\n  }, {\n    key: \"render\",\n    // componentWillUnmount(){\n    //     alert('by!')\n    //     this.props.form.validateFieldsAndScroll((err, values) => {\n    //         console.log(\"Unmount !!=>>\",values)\n    //     })\n    // }\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"table-head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"title\",\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, \"Objectif\"), React.createElement(Col, {\n        className: \"title\",\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }, \"Ponderation\"), React.createElement(Col, {\n        className: \"title\",\n        span: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, \"Plan d'actions\"), React.createElement(Col, {\n        className: \"title\",\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \"Cible\"), React.createElement(Col, {\n        className: \"title\",\n        span: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, \"Ech\\xE9ancier\")), React.createElement(Form, {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }, this.form_row(1, this.user_objectifs), this.form_row(2, this.user_objectifs), this.form_row(3, this.user_objectifs), this.form_row(4, this.user_objectifs), React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, \"Pond\\xE9ration totale: \"), \" \", React.createElement(\"span\", {\n        className: this.state.total_pond > 100 ? \"error\" : \"\",\n        id: \"total_pond\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, this.state.total_pond, \" %\"), React.createElement(FormItem, Object.assign({}, tailFormItemLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }), React.createElement(Button, {\n        disabled: this.state.validation || this.state.done || this.state.deja,\n        type: \"primary\",\n        icon: this.state.validation ? \"loading\" : \"check\",\n        size: \"large\",\n        htmlType: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, \" \", this.state.done ? \"Enregistré\" : this.state.validation ? \"Chargement\" : \"Valider\"), React.createElement(Button, {\n        disabled: this.state.sent,\n        onClick: this.send,\n        icon: this.state.sent ? \"check-circle\" : \"right-circle\",\n        size: \"large\",\n        style: {\n          marginLeft: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \" \", this.state.sent ? \"Envoyé\" : \"Envoyer\", \" \"))), this.props.collectif ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"bulb\",\n        theme: \"filled\",\n        color: \"yellow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }), \"Objectif Collectif: \")), React.createElement(Row, {\n        className: \"table-head table-head-coll \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"title\",\n        span: 19,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      }, \"Objectif\"), React.createElement(Col, {\n        className: \"title\",\n        span: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311\n        },\n        __self: this\n      }, \"Cible\")), React.createElement(Row, {\n        style: {\n          padding: '9pt 6pt'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, React.createElement(Col, {\n        className: \"title\",\n        span: 19,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, this.props.collectif.title), React.createElement(Col, {\n        className: \"title\",\n        span: 5,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315\n        },\n        __self: this\n      }, this.props.collectif.cible))) : \"\");\n    }\n  }]);\n\n  return RegistrationForm;\n}(React.Component);\n\nvar WrappedRegistrationForm = Form.create()(RegistrationForm);\nexport default WrappedRegistrationForm;","map":{"version":3,"sources":["/Users/mac/Documents/PFE/code/front/src/component/formObjectifs.js"],"names":["React","Component","PropTypes","axios","moment","Form","Input","message","Icon","Spin","Select","Row","Col","DatePicker","Button","AutoComplete","server_url","FormItem","Item","Option","AutoCompleteOption","TextArea","formItemLayout","tailFormItemLayout","wrapperCol","xs","span","offset","sm","antIcon","fontSize","RegistrationForm","props","state","deja","tab_pond","total_pond","validation","sending","sent","done","confirmDirty","autoCompleteResult","send","method","baseURL","user_id","headers","then","response","console","log","setState","success","catch","error","handleSubmit","e","preventDefault","form","validateFieldsAndScroll","err","values","JSON","stringify","obj1","title","objectif1","ponderation","ponderation1","cible","cible1","plan_action","plan1","echancie","echancie1","id_user","obj2","objectif2","ponderation2","cible2","plan2","echancie2","obj3","objectif3","ponderation3","cible3","plan3","echancie3","obj4","objectif4","ponderation4","cible4","plan4","echancie4","objs","user_objectifs","data","handleConfirmBlur","value","target","set_pond","id","pond","old","set_som_pond","som","p","i","length","parseInt","warning","form_row","table_obj","getFieldDecorator","obj","rules","required","initialValue","minRows","maxRows","locale","format","user","collectif","marginLeft","padding","WrappedRegistrationForm","create"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport axios from 'axios'\nimport moment from 'moment'\n\nimport { Form, Input, message, Icon, Spin, Select, Row, Col, DatePicker, Button, AutoComplete } from 'antd';\n\nimport { server_url } from \"../config/var\";\n\nconst FormItem = Form.Item;\nconst Option = Select.Option;\nconst AutoCompleteOption = AutoComplete.Option;\nconst { TextArea } = Input;\n\n\n    const formItemLayout = {\n    //   labelCol: {\n    //     xs: { span: 24 },\n    //     sm: { span: 8 },\n    //   },\n    //   wrapperCol: {\n    //     xs: { span: 24 },\n    //     sm: { span: 16 },\n    //   },\n    };\n    const tailFormItemLayout = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0,\n        },\n        sm: {\n          span: 16,\n          offset: 8,\n        },\n      },\n    };\n\n    const antIcon = <Icon type=\"loading\" style={{ fontSize: 24 }} spin />;\n\n    \nclass RegistrationForm extends React.Component {\n    constructor(props){\n        super(props)\n        this.user_id =this.props.user\n        this.user_objectifs =this.props.data\n        this.collectif=this.props.collectif\n       this.sent= this.props.sent\n    }\n \n    state = {\n     deja:false,\n      tab_pond:[0,0,0,0],\n      total_pond:0,\n      validation:false,\n      sending:true,\n      sent:false,\n      done:false,\n    confirmDirty: false,\n    autoCompleteResult: [],\n  };\n  \n  componentWillMount(){\n    this.setState({deja:this.user_objectifs.length>0?true:false,sent:this.sent})\n    \n  }\n  componentWillUnmount(){\n      this.user_id=null\n      this.user_objectifs=null\n      this.collectif=null\n      this.setState({tab_pond:[0,0,0,0], total_pond:0})\n  }\n  send=()=>{\n    axios({\n        method: 'post',\n        baseURL: server_url+'/objectif/affect/'+this.user_id,\n        headers: {'Access-Control-Allow-Origin': '*' }\n        })\n    .then( (response)=> {\n\n        console.log(\"WELL DONE affectation\")\n        console.log(response)\n        this.setState({sending:false, sent:true})\n        message.success('operation avec succes ')\n        //this.setState({infos:response.data, featching:false})\n        \n    })\n    .catch(function (error) {\n        console.log(\"erroooorrrrr\")\n        console.log(error);\n    });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    \n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n          console.log(\" data form : \"+JSON.stringify(values))\n          if(this.state.total_pond!=100){\n              message.error('la pondération total doit égale à 100%')\n              return\n          }\n\n          this.setState({validation:true})\n          var obj1={title:values.objectif1,ponderation:values.ponderation1, cible:values.cible1, plan_action:values.plan1, echancie:values.echancie1, id_user:this.user_id}\n          var obj2={title:values.objectif2,ponderation:values.ponderation2, cible:values.cible2, plan_action:values.plan2, echancie:values.echancie2, id_user:this.user_id}\n          var obj3={title:values.objectif3,ponderation:values.ponderation3, cible:values.cible3, plan_action:values.plan3, echancie:values.echancie3, id_user:this.user_id}\n          var obj4={title:values.objectif4,ponderation:values.ponderation4, cible:values.cible4, plan_action:values.plan4, echancie:values.echancie4, id_user:this.user_id}\n          var objs=[obj1, obj2, obj3, obj4]\nthis.user_objectifs=objs\n            console.log(\"data ready to send :\"+JSON.stringify(objs))\n          axios({\n                    method: 'post',\n                    baseURL: server_url+'/objectif/insert',\n                    data:objs,\n                    //headers: {'Access-Control-Allow-Origin': '*' }\n                    })\n                .then( (response)=> {\n\n                    console.log(\"WELL DONE insertion\")\n                    console.log(response)\n                    this.setState({validation:false, done:true, deja:true})\n                    message.success('operation avec succes ')\n                    //this.setState({infos:response.data, featching:false})\n                    \n                })\n                .catch(function (error) {\n                    console.log(\"erroooorrrrr\")\n                    console.log(error);\n                });\n      }\n    });\n  }\n\n  handleConfirmBlur = (e) => {\n    const value = e.target.value;\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\n  }\n\n  set_pond =(id, pond)=>{\n    var old =this.state.tab_pond\n    old[id-1]=pond\n    console.log(\"new tab pond\")\n    console.log(old)\n    this.setState({tab_pond:old})\n    this.set_som_pond()\n  }\n\n  set_som_pond=()=>{\n    var som=0\n    var p=this.state.tab_pond\n    for(let i=0; i<p.length; i++){\n      som+=parseInt (p[i])\n    }\n    this.setState({total_pond:som})\n    console.log(\"somme now :\")\n    console.log(som)\n   if(som>100) message.warning('Alert: la pondération ne doit pas depasser 100% !')\n  }\n\n\n  form_row = (id,table_obj) =>{\n    const { getFieldDecorator } = this.props.form; \n    var obj=table_obj[id-1]\n    var deja=false;\n    console.log(\"ROW OBJ\",obj)\n    if(table_obj!=null) deja=true\n    return(\n        \n        <Row className=\"table-row\">\n               \n                <Col span={6}>\n                \n                <FormItem\n                {...formItemLayout}\n                >\n                {getFieldDecorator('objectif'+id, {\n                    rules: [{\n                    required: true, message: 'entrer un objectif svp',\n                    }],\n                    initialValue:this.state.deja?obj.title:\"\"\n                })(\n                    <TextArea disabled={this.state.sent} placeholder=\"objectif\" autosize={{ minRows: 2, maxRows: 4 }} />\n                )}\n                </FormItem>\n                    \n                </Col>\n                <Col span={4}>\n                {\n                    <FormItem\n                    {...formItemLayout}\n                    >\n                    {getFieldDecorator('ponderation'+id, {\n                        rules: [{\n                        required: true, message: 'entrer une ponderation svp',\n                        }],\n                        initialValue:this.state.deja?obj.ponderation:0\n                    })(\n                        <Select disabled={this.state.sent} defaultValue=\"10\" onChange={value=>this.set_pond(id,value)} >\n                            <Option value=\"5\">5 %</Option>\n                            <Option value=\"10\">10 %</Option>\n                            <Option value=\"15\">15 %</Option>\n                            <Option value=\"20\">20 %</Option>\n                            <Option value=\"25\">25 %</Option>\n                            <Option value=\"30\">30 %</Option>\n                            <Option value=\"35\">35 %</Option>\n                            <Option value=\"40\">40 %</Option>\n                            <Option value=\"45\">45 %</Option>\n                            <Option value=\"50\">50 %</Option>\n                    </Select>\n                    )}\n                    </FormItem>\n                }\n                </Col>\n                \n                <Col span={6}>\n                {\n                    <FormItem\n                    {...formItemLayout}\n                    >\n                    {getFieldDecorator('plan'+id, {\n                        initialValue:this.state.deja?obj.plan_action:\"\",\n                        rules: [{\n                        required: true, message: 'entrer un plan d\\'action svp',\n                        }],\n                    })(\n                        <TextArea disabled={this.state.sent} placeholder=\"Plan d'actions\" autosize={{ minRows: 2, maxRows: 4 }} />\n                    )}\n                    </FormItem>\n                }\n                </Col>\n                \n                <Col span={4}>\n                {\n                    <FormItem\n                    {...formItemLayout}\n                    >\n                    {getFieldDecorator('cible'+id, {\n                        initialValue:this.state.deja?obj.cible:null,\n                        rules: [{\n                        required: true, message: 'entrer un cible svp',\n                        }],\n                    })(\n                        <Input  disabled={this.state.sent} placeholder=\"cible\" />\n                    )}\n                    </FormItem>\n                }\n                </Col>\n                \n                <Col span={4}>\n                {this.state.deja? moment(obj.echancie).locale(\"fr\").format('L'):\n                <FormItem\n                {...formItemLayout}\n                >\n                {getFieldDecorator('echancie'+id, {\n                    rules: [{\n                    required: true, message: 'entrer un echéancie svp',\n                    }],\n                })(\n                    <DatePicker disabled={this.state.sent} />\n                )}\n                </FormItem>\n                }\n                </Col>\n                \n                </Row>\n    )\n        } \n            \n// componentWillUnmount(){\n//     alert('by!')\n//     this.props.form.validateFieldsAndScroll((err, values) => {\n//         console.log(\"Unmount !!=>>\",values)\n//     })\n// }\n  render() {\n    \n   \n\n    return (\n        <div>\n            <Row className=\"table-head\">\n                <Col className=\"title\" span={6}>Objectif</Col>\n                <Col className=\"title\" span={4}>Ponderation</Col>\n                <Col className=\"title\" span={6}>Plan d'actions</Col>\n                <Col className=\"title\" span={4}>Cible</Col>\n                <Col className=\"title\" span={4}>Echéancier</Col>\n                {/* <Col className=\"title\" span={4}>Evaluation</Col> */}\n            </Row>\n            <Form onSubmit={this.handleSubmit}>\n                {this.form_row(1,this.user_objectifs)}\n                {this.form_row(2,this.user_objectifs)}\n                {this.form_row(3,this.user_objectifs)}\n                {this.form_row(4,this.user_objectifs)}\n                <strong>Pondération totale: </strong> <span className={this.state.total_pond>100? \"error\": \"\"} id=\"total_pond\">{this.state.total_pond} %</span>\n                    <FormItem {...tailFormItemLayout}>\n                        <Button disabled={this.state.validation || this.state.done || this.state.deja} type=\"primary\" icon={this.state.validation? \"loading\": \"check\"} size='large' htmlType=\"submit\"> {this.state.done? \"Enregistré\" : (this.state.validation ? \"Chargement\" : \"Valider\")}</Button>\n                        <Button disabled={this.state.sent} onClick={this.send} icon={this.state.sent?\"check-circle\":\"right-circle\"} size='large' style={{marginLeft:10}}> {this.state.sent?\"Envoyé\":\"Envoyer\"} </Button>\n                    </FormItem>\n            </Form>\n            \n            \n            {\n                this.props.collectif?    (\n                    <div>\n                <b><h3><Icon type=\"bulb\" theme=\"filled\" color=\"yellow\" />Objectif Collectif: </h3></b>\n            <Row className=\"table-head table-head-coll \">\n                <Col className=\"title\" span={19}>Objectif</Col>\n                <Col className=\"title\" span={5}>Cible</Col>\n            </Row>\n            <Row  style={{padding: '9pt 6pt'}}>\n                <Col className=\"title\" span={19}>{this.props.collectif.title}</Col>\n                <Col className=\"title\" span={5}>{this.props.collectif.cible}</Col>\n            </Row></div>) :\"\"\n            }\n            \n\n        </div>\n      \n    );\n  }\n}\n\nconst WrappedRegistrationForm = Form.create()(RegistrationForm);\n\nexport default WrappedRegistrationForm"]},"metadata":{},"sourceType":"module"}